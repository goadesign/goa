// Code generated by goa v2.0.0-wip, DO NOT EDIT.
//
// resume HTTP client CLI support package
//
// Command:
// $ goa gen goa.design/goa/examples/multipart/design -o
// $(GOPATH)/src/goa.design/goa/examples/multipart

package client

import (
	"encoding/json"
	"fmt"

	resumesvc "goa.design/goa/examples/multipart/gen/resume"
)

// BuildAddPayload builds the payload for the resume add endpoint from CLI
// flags.
func BuildAddPayload(resumeAddBody string) ([]*resumesvc.Resume, error) {
	var err error
	var body []*ResumeRequestBody
	{
		err = json.Unmarshal([]byte(resumeAddBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, example of valid JSON:\n%s", "'[\n      {\n         \"education\": [\n            {\n               \"institution\": \"Qui ut voluptates libero consectetur in.\",\n               \"major\": \"Aliquid nesciunt harum exercitationem qui reprehenderit.\"\n            },\n            {\n               \"institution\": \"Qui ut voluptates libero consectetur in.\",\n               \"major\": \"Aliquid nesciunt harum exercitationem qui reprehenderit.\"\n            }\n         ],\n         \"experience\": [\n            {\n               \"company\": \"Consectetur ut.\",\n               \"duration\": 9021502551841493030,\n               \"role\": \"Pariatur ad accusantium.\"\n            },\n            {\n               \"company\": \"Consectetur ut.\",\n               \"duration\": 9021502551841493030,\n               \"role\": \"Pariatur ad accusantium.\"\n            }\n         ],\n         \"name\": \"Earum rem.\"\n      },\n      {\n         \"education\": [\n            {\n               \"institution\": \"Qui ut voluptates libero consectetur in.\",\n               \"major\": \"Aliquid nesciunt harum exercitationem qui reprehenderit.\"\n            },\n            {\n               \"institution\": \"Qui ut voluptates libero consectetur in.\",\n               \"major\": \"Aliquid nesciunt harum exercitationem qui reprehenderit.\"\n            }\n         ],\n         \"experience\": [\n            {\n               \"company\": \"Consectetur ut.\",\n               \"duration\": 9021502551841493030,\n               \"role\": \"Pariatur ad accusantium.\"\n            },\n            {\n               \"company\": \"Consectetur ut.\",\n               \"duration\": 9021502551841493030,\n               \"role\": \"Pariatur ad accusantium.\"\n            }\n         ],\n         \"name\": \"Earum rem.\"\n      },\n      {\n         \"education\": [\n            {\n               \"institution\": \"Qui ut voluptates libero consectetur in.\",\n               \"major\": \"Aliquid nesciunt harum exercitationem qui reprehenderit.\"\n            },\n            {\n               \"institution\": \"Qui ut voluptates libero consectetur in.\",\n               \"major\": \"Aliquid nesciunt harum exercitationem qui reprehenderit.\"\n            }\n         ],\n         \"experience\": [\n            {\n               \"company\": \"Consectetur ut.\",\n               \"duration\": 9021502551841493030,\n               \"role\": \"Pariatur ad accusantium.\"\n            },\n            {\n               \"company\": \"Consectetur ut.\",\n               \"duration\": 9021502551841493030,\n               \"role\": \"Pariatur ad accusantium.\"\n            }\n         ],\n         \"name\": \"Earum rem.\"\n      },\n      {\n         \"education\": [\n            {\n               \"institution\": \"Qui ut voluptates libero consectetur in.\",\n               \"major\": \"Aliquid nesciunt harum exercitationem qui reprehenderit.\"\n            },\n            {\n               \"institution\": \"Qui ut voluptates libero consectetur in.\",\n               \"major\": \"Aliquid nesciunt harum exercitationem qui reprehenderit.\"\n            }\n         ],\n         \"experience\": [\n            {\n               \"company\": \"Consectetur ut.\",\n               \"duration\": 9021502551841493030,\n               \"role\": \"Pariatur ad accusantium.\"\n            },\n            {\n               \"company\": \"Consectetur ut.\",\n               \"duration\": 9021502551841493030,\n               \"role\": \"Pariatur ad accusantium.\"\n            }\n         ],\n         \"name\": \"Earum rem.\"\n      }\n   ]'")
		}
	}
	if err != nil {
		return nil, err
	}
	v := make([]*resumesvc.Resume, len(body))
	for i, val := range body {
		v[i] = &resumesvc.Resume{
			Name: val.Name,
		}
		if val.Experience != nil {
			v[i].Experience = make([]*resumesvc.Experience, len(val.Experience))
			for j, val := range val.Experience {
				v[i].Experience[j] = &resumesvc.Experience{
					Company:  val.Company,
					Role:     val.Role,
					Duration: val.Duration,
				}
			}
		}
		if val.Education != nil {
			v[i].Education = make([]*resumesvc.Education, len(val.Education))
			for j, val := range val.Education {
				v[i].Education[j] = &resumesvc.Education{
					Institution: val.Institution,
					Major:       val.Major,
				}
			}
		}
	}
	return v, nil
}
