{"swagger":"2.0","info":{"title":"Security Example API","description":"This API demonstrates the use of the goa security DSL","version":""},"host":"localhost:8080","paths":{"/secure":{"get":{"tags":["secured_service"],"summary":"secure secured_service","description":"This action is secured with the jwt scheme\n\nRequired security scopes:\n  * `api:read`","operationId":"secured_service#secure","parameters":[{"name":"fail","in":"query","description":"Whether to force auth failure even with a valid JWT","required":false,"type":"boolean"}],"responses":{"200":{"description":"OK response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"$ref":"#/definitions/SecureUnauthorizedResponseBody"}}},"schemes":["http"],"security":[{"jwt":[]}]},"put":{"tags":["secured_service"],"summary":"doubly_secure secured_service","description":"This action is secured with the jwt scheme and also requires an API key query string.\n\nRequired security scopes:\n  * `api:read`\n  * `api:write`","operationId":"secured_service#doubly_secure","parameters":[{"name":"k","in":"query","description":"API key","required":false,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"$ref":"#/definitions/DoublySecureUnauthorizedResponseBody"}}},"schemes":["http"],"security":[{"api_key":[],"jwt":[]}]},"post":{"tags":["secured_service"],"summary":"also_doubly_secure secured_service","description":"This action is secured with the jwt scheme and also requires an API key header.\n\nRequired security scopes:\n  * `api:read`\n  * `api:write`","operationId":"secured_service#also_doubly_secure","parameters":[{"name":"k","in":"query","description":"API key","required":false,"type":"string"},{"name":"oauth","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"$ref":"#/definitions/AlsoDoublySecureUnauthorizedResponseBody"}}},"schemes":["http"],"security":[{"api_key":[],"jwt":[]},{"basic":[],"oauth2":["api:read","api:write"]}]}},"/signin":{"post":{"tags":["secured_service"],"summary":"signin secured_service","description":"Creates a valid JWT","operationId":"secured_service#signin","responses":{"204":{"description":"No Content response."},"401":{"description":"Unauthorized response.","schema":{"$ref":"#/definitions/SigninUnauthorizedResponseBody"}}},"schemes":["http"],"security":[{"basic":[]}]}}},"definitions":{"AlsoDoublySecureUnauthorizedResponseBody":{"title":"AlsoDoublySecureUnauthorizedResponseBody","type":"string","description":"Credentials are invalid","example":"Maxime ipsam esse et."},"DoublySecureUnauthorizedResponseBody":{"title":"DoublySecureUnauthorizedResponseBody","type":"string","description":"Credentials are invalid","example":"Itaque accusamus enim."},"SecureUnauthorizedResponseBody":{"title":"SecureUnauthorizedResponseBody","type":"string","description":"Credentials are invalid","example":"Accusantium voluptatem alias corrupti voluptates a."},"SigninUnauthorizedResponseBody":{"title":"SigninUnauthorizedResponseBody","type":"string","description":"Credentials are invalid","example":"Tenetur est et."}},"securityDefinitions":{"api_key":{"type":"apiKey","description":"Secures endpoint by requiring an API key."},"basic":{"type":"basic","description":"Basic authentication used to authenticate security principal during signin"},"jwt":{"type":"apiKey","description":"Secures endpoint by requiring a valid JWT token retrieved via the signin endpoint. Supports scopes \"api:read\" and \"api:write\".\n**Security Scopes**:\n  * `api:read`: Read-only access\n  * `api:write`: Read and write access","name":"Authorization","in":"header"},"oauth2":{"type":"oauth2","description":"Secures endpoint by requiring a valid OAuth2 token retrieved via the signin endpoint. Supports scopes \"api:read\" and \"api:write\".","flow":"accessCode","authorizationUrl":"/authorization","tokenUrl":"/token","scopes":{"api:read":"Read-only access","api:write":"Read and write access"}}},"externalDocs":{"description":"Security example README","url":"https://github.com/goadesign/goa/tree/master/example/security/README.md"}}